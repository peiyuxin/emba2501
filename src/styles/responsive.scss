// 响应式 Mixins
@mixin mobile-only {
  @media (max-width: $breakpoint-sm - 1px) {
    @content;
  }
}

@mixin tablet-only {
  @media (min-width: $breakpoint-sm) and (max-width: $breakpoint-md - 1px) {
    @content;
  }
}

@mixin desktop-only {
  @media (min-width: $breakpoint-md) {
    @content;
  }
}

@mixin mobile-and-tablet {
  @media (max-width: $breakpoint-md - 1px) {
    @content;
  }
}

@mixin tablet-and-desktop {
  @media (min-width: $breakpoint-sm) {
    @content;
  }
}

// 响应式字体大小
@mixin responsive-font-size($base-size) {
  font-size: $base-size;
  
  @include mobile-only {
    font-size: $base-size * 0.9;
  }
  
  @media (max-width: $breakpoint-xs) {
    font-size: $base-size * 0.8;
  }
}

// 响应式间距
@mixin responsive-padding($base-padding) {
  padding: $base-padding;
  
  @include mobile-only {
    padding: $base-padding * 0.75;
  }
  
  @media (max-width: $breakpoint-xs) {
    padding: $base-padding * 0.5;
  }
}

@mixin responsive-margin($base-margin) {
  margin: $base-margin;
  
  @include mobile-only {
    margin: $base-margin * 0.75;
  }
  
  @media (max-width: $breakpoint-xs) {
    margin: $base-margin * 0.5;
  }
}

// 响应式容器
@mixin container-responsive {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 $spacing-lg;
  
  @include mobile-only {
    padding: 0 $spacing-md;
  }
  
  @media (max-width: $breakpoint-xs) {
    padding: 0 $spacing-sm;
  }
}

// 响应式网格
@mixin grid-responsive($columns: 3, $gap: $spacing-md) {
  display: grid;
  gap: $gap;
  grid-template-columns: repeat($columns, 1fr);
  
  @include tablet-only {
    grid-template-columns: repeat(2, 1fr);
  }
  
  @include mobile-only {
    grid-template-columns: 1fr;
    gap: $gap * 0.75;
  }
}

// 响应式卡片
@mixin card-responsive {
  background: $bg-primary;
  border-radius: $border-radius-md;
  box-shadow: $shadow-light;
  @include responsive-padding($spacing-lg);
  @include responsive-margin($spacing-md);
  
  @include mobile-only {
    border-radius: $border-radius-sm;
  }
}

// 响应式按钮
@mixin button-responsive {
  @include mobile-only {
    width: 100%;
    margin-bottom: $spacing-sm;
  }
}

// 触摸友好的点击区域
@mixin touch-friendly {
  min-height: 44px;
  min-width: 44px;
  
  @include mobile-only {
    min-height: 48px;
    min-width: 48px;
  }
}

// 响应式表格
@mixin table-responsive {
  overflow-x: auto;
  
  @include mobile-only {
    .el-table {
      font-size: $font-size-sm;
      
      .el-table__header th,
      .el-table__body td {
        padding: $spacing-xs $spacing-sm;
        white-space: nowrap;
      }
    }
  }
}

// 响应式模态框
@mixin modal-responsive {
  @include mobile-only {
    .el-dialog {
      width: 95% !important;
      margin: $spacing-sm auto !important;
      
      .el-dialog__body {
        padding: $spacing-md !important;
      }
    }
  }
}

// 隐藏滚动条但保持功能
@mixin hide-scrollbar {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
  
  &::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }
}

// 响应式文字截断
@mixin text-ellipsis-responsive($lines: 1) {
  @if $lines == 1 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  } @else {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
    
    @include mobile-only {
      -webkit-line-clamp: $lines + 1;
    }
  }
}
